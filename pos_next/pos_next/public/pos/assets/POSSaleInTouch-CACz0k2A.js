const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-CLcWQdf2.js","assets/index-CfvA770r.css"])))=>i.map(i=>d[i]);
var Re=Object.defineProperty,Be=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var ue=Object.getOwnPropertySymbols;var je=Object.prototype.hasOwnProperty,Le=Object.prototype.propertyIsEnumerable;var ce=(y,e,i)=>e in y?Re(y,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):y[e]=i,W=(y,e)=>{for(var i in e||(e={}))je.call(e,i)&&ce(y,i,e[i]);if(ue)for(var i of ue(e))Le.call(e,i)&&ce(y,i,e[i]);return y},Y=(y,e)=>Be(y,Me(e));var E=(y,e,i)=>new Promise((r,f)=>{var d=g=>{try{A(i.next(g))}catch(N){f(N)}},P=g=>{try{A(i.throw(g))}catch(N){f(N)}},A=g=>g.done?r(g.value):Promise.resolve(g.value).then(d,P);A((i=i.apply(y,e)).next())});import{a as oe,i as $,l as X,j as le,N as qe,c as k,o as b,y as ne,z as Z,f as n,d as x,t as u,g as H,F as te,B as re,q as ae,w as R,u as t,G as Q,e as z,H as me,I as Fe,J as fe,K as ie,M as pe,E as We,D as Qe,x as ze,X as He,P as Je,k as Ke,V as Ge,m as de,Z as Ye,_ as Xe}from"./index-CLcWQdf2.js";import{u as he,c as Ze,a as et,d as tt,e as ot,p as se}from"./posUI-DTgWktYq.js";import{P as nt,E as st,f as ge,u as ve,c as rt,d as at,e as it,h as lt,i as ut,_ as ct,C as dt,j as mt,R as ft,k as pt,l as ht,m as gt,n as vt,o as yt,q as _t,r as bt,s as wt,t as xt}from"./posSync-DNlvupde.js";import"./bootstrap-BaxiQ869.js";const St={style:{display:"none"}},Ct={__name:"POSFooter",setup(y){const e=$("Powered by"),i=$("BrainWise"),r=$("https://nexus.brainwise.me"),f=$(null),d=$({}),P=$(!0),A=Math.random().toString(36).substring(7);$(`pos-footer-component pos-footer-component-${A}`),X(()=>`BrainWise-${A}`),X(()=>{var m,I,a,l,h,j,K;return{padding:((m=d.value._s)==null?void 0:m.p)||"12px 20px",backgroundColor:((I=d.value._s)==null?void 0:I.bg)||"#f8f9fa",borderTop:((a=d.value._s)==null?void 0:a.bt)||"1px solid #e0e0e0",textAlign:((l=d.value._s)==null?void 0:l.ta)||"center",fontSize:((h=d.value._s)==null?void 0:h.fs)||"13px",color:((j=d.value._s)==null?void 0:j.c)||"#6b7280",zIndex:((K=d.value._s)==null?void 0:K.z)||100,userSelect:"none",WebkitUserSelect:"none",MozUserSelect:"none",msUserSelect:"none",position:"fixed",bottom:"0",left:"0",right:"0",width:"100%"}});let g=null,N=null,D=null,w=null,_=null,T=null;const F=()=>E(this,null,function*(){try{const m=yield ne("pos_next.api.branding.get_branding_config");m&&(d.value=m,e.value=atob(m._t||""),i.value=atob(m._l||""),r.value=atob(m._u||""),P.value=m._v||!1,m._i&&g&&(clearInterval(g),g=setInterval(L,m._i)),P.value&&B())}catch(m){console.error("[BrainWise] Failed to load branding config:",m),e.value="Powered by",i.value="BrainWise",r.value="https://nexus.brainwise.me"}}),U=()=>E(this,null,function*(){if(P.value)try{yield ne("pos_next.api.branding.validate_branding",{client_signature:d.value._sig,brand_name:i.value,brand_url:r.value})}catch(m){console.error("[BrainWise] Server validation failed:",m)}}),B=()=>{T=setInterval(U,3e5),U()},v=(a,...l)=>E(this,[a,...l],function*(m,I={}){try{yield ne("pos_next.api.branding.log_client_event",{event_type:m,details:JSON.stringify(Y(W({},I),{timestamp:Date.now(),component_id:A}))})}catch(h){console.error("[BrainWise] Failed to log event:",h)}}),S=()=>{if(!f.value)return;const m=atob(d.value._l||btoa("BrainWise")),I=atob(d.value._u||btoa("https://nexus.brainwise.me")),a=atob(d.value._t||btoa("Powered by"));i.value!==m&&(i.value=m,v("modification",{field:"brand_name",attempted_value:i.value})),r.value!==I&&(r.value=I,v("modification",{field:"brand_url",attempted_value:r.value})),e.value!==a&&(e.value=a,v("modification",{field:"brand_text",attempted_value:e.value}));const l=f.value.querySelector(".footer-link");l&&(l.textContent.trim()!==m&&(l.textContent=m),l.getAttribute("href")!==I&&l.setAttribute("href",I),l.setAttribute("rel","noopener noreferrer"),l.setAttribute("target","_blank"));const h=f.value.querySelector(".footer-text");h&&h.textContent.trim()!==a&&(h.textContent=a)},C=()=>{(!D||!document.head.contains(D))&&(D=document.createElement("style"),D.textContent=`
			.pos-footer-component {
				pointer-events: auto !important;
				min-height: 45px;
				position: fixed !important;
				bottom: 0 !important;
				left: 0 !important;
				right: 0 !important;
			}
			.pos-footer-component .footer-content {
				display: flex;
				align-items: center;
				justify-content: center;
				gap: 6px;
			}
			.pos-footer-component .footer-text {
				color: #6b7280;
			}
			.pos-footer-component .footer-link {
				color: #3b82f6;
				text-decoration: none;
				font-weight: 600;
				transition: color 0.2s;
			}
			.pos-footer-component .footer-link:hover {
				color: #2563eb;
				text-decoration: underline;
			}
		`,document.head.appendChild(D))},M=()=>{if(!f.value)return;const m=f.value;if(!document.body.contains(m)){v("removal",{restored:!0});const a=w&&document.contains(w)?w:document.body;_&&_.parentNode===a?a.insertBefore(m,_):a.appendChild(m)}S()},L=()=>{const m=document.querySelectorAll(".pos-footer-component");m.length===0?(console.warn("[POS System] Footer component integrity check failed"),sessionStorage.setItem("_bw_ic",Date.now().toString()),v("integrity_fail",{reason:"element_not_found"}),M()):m.forEach(I=>{const a=window.getComputedStyle(I);(a.display==="none"||a.visibility==="hidden"||a.opacity==="0")&&(console.warn("[POS System] Footer visibility modified"),sessionStorage.setItem("_bw_vc",Date.now().toString()),v("visibility_change",{display:a.display,visibility:a.visibility,opacity:a.opacity}),I.style.display="flex",I.style.visibility="visible",I.style.opacity="1"),a.position!=="fixed"&&(I.style.position="fixed",I.style.bottom="0",I.style.left="0",I.style.right="0")}),C(),S()},J=()=>{if(typeof MutationObserver!="undefined"){const m=document.body,I={childList:!0,subtree:!0,attributes:!0,attributeFilter:["style","class"]};N=new MutationObserver(a=>{a.forEach(l=>{(l.type==="childList"||l.type==="attributes")&&(!document.querySelector(".pos-footer-component")&&l.removedNodes.length>0&&(sessionStorage.setItem("_bw_rm",Date.now().toString()),v("removal",{mutation_type:l.type}),M()),l.target&&f.value&&l.target===f.value&&S())})}),N.observe(m,I)}};return le(()=>E(this,null,function*(){yield F();const m=d.value._i||1e4;g=setInterval(L,m),J(),setTimeout(L,1e3),C(),f.value&&(w=f.value.parentNode,_=f.value.nextSibling,S()),typeof window!="undefined"&&window.addEventListener("focus",S,{passive:!0})})),qe(()=>{g&&clearInterval(g),T&&clearInterval(T),N&&N.disconnect(),D&&document.head.contains(D)&&document.head.removeChild(D),typeof window!="undefined"&&window.removeEventListener("focus",S)}),(m,I)=>(b(),k("div",St))}},It=oe(Ct,[["__scopeId","data-v-48d5fa70"]]),kt={class:"flex flex-col h-full",style:{background:"linear-gradient(180deg, #e5e7eb 0%, #d1d5db 100%)"}},Dt={class:"bg-gradient-to-r from-sky-500 to-blue-600 text-white p-3 text-center border-b-4 border-blue-700"},Pt={class:"flex items-center justify-between px-4"},$t={class:"text-4xl font-bold"},Ot={class:"text-right"},Vt={class:"text-3xl font-bold"},Nt={class:"text-xs opacity-90"},Tt={class:"grid grid-cols-4 gap-2 p-2 bg-gray-800"},Et={class:"header-btn-intouch secondary text-sm py-3 min-h-[56px]"},At={class:"header-btn-intouch primary text-sm py-3 min-h-[56px]"},Ut={class:"header-btn-intouch primary text-sm py-3 min-h-[56px]"},Rt={class:"header-btn-intouch light text-sm py-3 min-h-[56px]"},Bt={class:"header-btn-intouch secondary text-sm py-3 min-h-[56px]"},Mt={class:"px-2 pb-2 bg-gray-800"},jt=["disabled"],Lt={class:"flex justify-around px-3 py-4 bg-gray-700 border-y-2 border-gray-600 gap-2"},qt=["title"],Ft=["title","disabled"],Wt=["title","disabled"],Qt=["title","disabled"],zt={class:"bg-gradient-to-r from-sky-500 to-blue-600 p-4 text-white border-b-2 border-blue-700"},Ht={key:0,class:"text-center"},Jt={class:"text-5xl font-bold mb-2"},Kt={class:"text-xl font-bold mb-2 px-2 truncate"},Gt={class:"flex justify-between px-8 text-lg font-semibold"},Yt={key:0,class:"text-sm text-yellow-200 mt-2 italic truncate px-4"},Xt={key:1,class:"text-center text-2xl font-bold py-4"},Zt={class:"flex-1 overflow-y-auto bg-white relative min-h-0"},eo={key:0,class:"absolute left-0 top-0 bottom-0 w-10 flex flex-col justify-center gap-3 z-10 pointer-events-none"},to={class:"w-full text-sm"},oo={class:"bg-gradient-to-r from-sky-500 to-blue-600 text-white sticky top-0 z-0"},no={class:"p-3 text-center font-bold text-base w-16"},so={class:"p-3 text-start font-bold text-base"},ro={class:"p-3 text-center font-bold text-base w-20"},ao={class:"p-3 text-end font-bold text-base w-28"},io=["onClick"],lo={class:"p-3 text-center font-bold text-gray-600"},uo={class:"p-3"},co={class:"font-semibold text-gray-900"},mo={key:0,class:"text-xs text-gray-500 italic mt-1"},fo={class:"p-3 text-center font-bold text-lg text-blue-600"},po={class:"p-3 text-end font-bold text-lg text-gray-900"},ho={key:0},go={colspan:"4",class:"p-8 text-center text-gray-400 text-base"},vo={class:"bg-white border-t-2 border-gray-200 p-3"},yo={class:"grid grid-cols-3 gap-2 text-sm font-semibold mb-2"},_o={class:"text-center"},bo={class:"text-gray-500 text-xs mb-1"},wo={class:"text-blue-600 font-bold"},xo={class:"text-center"},So={class:"text-gray-500 text-xs mb-1"},Co={class:"text-blue-600 font-bold"},Io={class:"text-center"},ko={class:"text-gray-500 text-xs mb-1"},Do={class:"text-blue-600 font-bold"},Po={class:"flex justify-between items-center font-bold text-xl text-blue-700 border-t border-gray-200 pt-2"},$o={class:"text-2xl"},Oo={class:"bg-gray-800 p-3 pb-4"},Vo={class:"p-4"},No={class:"text-sm text-gray-600 mb-3"},To=["placeholder"],Eo={class:"flex gap-2 w-full"},Ao={__name:"InvoiceCartInTouch",props:{items:{type:Array,default:()=>[]},customer:Object,subtotal:{type:Number,default:0},taxAmount:{type:Number,default:0},discountAmount:{type:Number,default:0},grandTotal:{type:Number,default:0},posProfile:String,currency:{type:String,default:"USD"},appliedOffers:{type:Array,default:()=>[]},warehouses:{type:Array,default:()=>[]},tableNumber:{type:[String,Number],default:1}},emits:["update-quantity","remove-item","select-customer","create-customer","proceed-to-payment","clear-cart","save-draft","apply-coupon","show-coupons","show-offers","remove-offer","update-uom","edit-item","view-shift","show-drafts","show-history","show-return","close-shift"],setup(y,{emit:e}){he();const{showWarning:i}=pe(),r=y,f=e,d=$(-1),P=$(""),A=$(!1),g=$(""),N=$(null),D=$(!1),w=$(null),_=X(()=>d.value<0||d.value>=r.items.length?null:r.items[d.value]);Z(()=>r.items.length,a=>{a===0?(d.value=-1,P.value=""):(d.value>=a||a>0&&d.value===-1)&&(d.value=a-1)}),Z(d,()=>{P.value=""});function T(a){return ge(Number.parseFloat(a||0),r.currency)}function F(a){d.value=a}function U(){return _.value?!0:(i(__("Please select an item from the cart first")),!1)}function B(a){if(a===Math.floor(a))return 1;const l=Math.round(a*1e4)/1e4;return Math.abs(l%.5)<1e-4?.5:Math.abs(l%.25)<1e-4?.25:Math.abs(l%.1)<1e-4?.1:.01}function v(){if(!U())return;const a=_.value,l=B(a.quantity),h=Math.round((a.quantity+l)*1e4)/1e4;f("update-quantity",a.item_code,h)}function S(){if(!U())return;const a=_.value,l=B(a.quantity),h=Math.round((a.quantity-l)*1e4)/1e4;h<=0?f("remove-item",a.item_code):f("update-quantity",a.item_code,h)}function C(){U()&&f("remove-item",_.value.item_code)}function M(){d.value>0&&d.value--}function L(){d.value<r.items.length-1&&d.value++}function J(){if(!_.value){i(__("Please select an item first"));return}const a=Number.parseFloat(P.value);!Number.isNaN(a)&&a>0&&(f("update-quantity",_.value.item_code,a),P.value="")}function m(){if(!_.value)return;const a=Y(W({},_.value),{comment:g.value.trim()});f("edit-item",a),A.value=!1,g.value=""}function I(a){f("edit-item",a),D.value=!1}return(a,l)=>(b(),k("div",kt,[n("div",Dt,[n("div",Pt,[n("div",$t,u(y.grandTotal>0?T(y.grandTotal):"0"),1),n("div",Ot,[n("div",Vt,"NO "+u(y.tableNumber),1),n("div",Nt,u(a.__("Table")),1)])])]),n("div",Tt,[n("button",Et,u(a.__("Tables")),1),n("button",At,u(a.__("Delivery")),1),n("button",Ut,u(a.__("Hall")),1),n("button",Rt,u(a.__("Take Away")),1),n("button",{onClick:l[0]||(l[0]=h=>a.$emit("show-history")),class:"header-btn-intouch secondary text-sm py-3 min-h-[56px]"},u(a.__("Daily Orders")),1),n("button",Bt,u(a.__("Tools")),1),n("button",{onClick:l[1]||(l[1]=h=>a.$emit("close-shift")),class:"header-btn-intouch danger text-sm py-3 min-h-[56px]"},u(a.__("إغلاق الورديه")),1),n("button",{onClick:l[2]||(l[2]=h=>a.$emit("logout")),class:"header-btn-intouch danger text-sm py-3 min-h-[56px]"},u(a.__("خروج")),1)]),n("div",Mt,[n("button",{onClick:l[3]||(l[3]=h=>a.$emit("proceed-to-payment")),disabled:y.items.length===0,class:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 active:scale-[0.98] disabled:opacity-50 disabled:cursor-not-allowed text-white py-4 rounded-xl font-bold text-lg transition-all shadow-lg min-h-[56px]"},u(a.__("End Bill")),9,jt)]),n("div",Lt,[n("button",{onClick:l[4]||(l[4]=h=>a.$emit("save-draft")),class:"ctrl-btn-intouch hold",title:a.__("Hold Order")},l[10]||(l[10]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M5 13l4 4L19 7"})],-1),n("span",{class:"text-xs font-bold"},"HOLD",-1)]),8,qt),n("button",{onClick:S,class:"ctrl-btn-intouch danger",title:a.__("Decrease Quantity"),disabled:!_.value},l[11]||(l[11]=[n("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M20 12H4"})],-1)]),8,Ft),n("button",{onClick:v,class:"ctrl-btn-intouch danger",title:a.__("Increase Quantity"),disabled:!_.value},l[12]||(l[12]=[n("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M12 4v16m8-8H4"})],-1)]),8,Wt),n("button",{onClick:C,class:"ctrl-btn-intouch danger",title:a.__("Remove Item"),disabled:!_.value},l[13]||(l[13]=[n("svg",{class:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M6 18L18 6M6 6l12 12"})],-1)]),8,Qt)]),n("div",zt,[_.value?(b(),k("div",Ht,[n("div",Jt,u(_.value.quantity),1),n("div",Kt,u(_.value.item_name),1),n("div",Gt,[n("span",null,u(T(_.value.rate)),1),n("span",null,u(T(_.value.amount)),1)]),_.value.comment?(b(),k("div",Yt,u(_.value.comment),1)):H("",!0)])):(b(),k("div",Xt,u(a.__("Select an Item")),1))]),n("div",Zt,[y.items.length>0?(b(),k("div",eo,[n("button",{onClick:M,class:"w-10 h-14 bg-blue-600/90 hover:bg-blue-700 text-white rounded-r-lg pointer-events-auto flex items-center justify-center shadow-lg active:bg-blue-800 transition-all"},l[14]||(l[14]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M5 15l7-7 7 7"})],-1)])),n("button",{onClick:L,class:"w-10 h-14 bg-blue-600/90 hover:bg-blue-700 text-white rounded-r-lg pointer-events-auto flex items-center justify-center shadow-lg active:bg-blue-800 transition-all"},l[15]||(l[15]=[n("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"3",d:"M19 9l-7 7-7-7"})],-1)]))])):H("",!0),n("table",to,[n("thead",oo,[n("tr",null,[n("th",no,u(a.__("#")),1),n("th",so,u(a.__("Item Name")),1),n("th",ro,u(a.__("Qty")),1),n("th",ao,u(a.__("Total")),1)])]),n("tbody",null,[(b(!0),k(te,null,re(y.items,(h,j)=>(b(),k("tr",{key:j,onClick:K=>F(j),class:ae(["border-b border-gray-200 cursor-pointer transition-colors",d.value===j?"bg-blue-100":"hover:bg-gray-50"])},[n("td",lo,u(j+1),1),n("td",uo,[n("div",co,u(h.item_name),1),h.comment?(b(),k("div",mo,u(h.comment),1)):H("",!0)]),n("td",fo,u(h.quantity),1),n("td",po,u(T(h.amount)),1)],10,io))),128)),y.items.length===0?(b(),k("tr",ho,[n("td",go,u(a.__("No items in cart")),1)])):H("",!0)])])]),n("div",vo,[n("div",yo,[n("div",_o,[n("div",bo,u(a.__("Subtotal")),1),n("div",wo,u(T(y.subtotal)),1)]),n("div",xo,[n("div",So,u(a.__("Tax")),1),n("div",Co,u(T(y.taxAmount)),1)]),n("div",Io,[n("div",ko,u(a.__("Discount")),1),n("div",Do,u(T(y.discountAmount)),1)])]),n("div",Po,[n("span",null,u(a.__("Grand Total")),1),n("span",$o,u(T(y.grandTotal)),1)])]),n("div",Oo,[x(nt,{modelValue:P.value,"onUpdate:modelValue":l[5]||(l[5]=h=>P.value=h),onEnter:J},null,8,["modelValue"])]),x(t(ie),{modelValue:A.value,"onUpdate:modelValue":l[8]||(l[8]=h=>A.value=h),options:{title:a.__("Add Comment"),size:"sm"}},{"body-content":R(()=>[n("div",Vo,[n("p",No,u(a.__("Add a note for the kitchen or customer.")),1),me(n("input",{ref_key:"commentInputRef",ref:N,"onUpdate:modelValue":l[6]||(l[6]=h=>g.value=h),type:"text",class:"w-full border border-gray-300 rounded-lg p-3 focus:ring-2 focus:ring-blue-500 focus:outline-none text-base",placeholder:a.__("Enter comment..."),onKeydown:Fe(m,["enter"])},null,40,To),[[fe,g.value]])])]),actions:R(()=>[n("div",Eo,[x(t(Q),{variant:"subtle",class:"flex-1",onClick:l[7]||(l[7]=h=>A.value=!1)},{default:R(()=>[z(u(a.__("Cancel")),1)]),_:1}),x(t(Q),{variant:"solid",class:"flex-1",onClick:m},{default:R(()=>[z(u(a.__("Save")),1)]),_:1})])]),_:1},8,["modelValue","options"]),x(st,{modelValue:D.value,"onUpdate:modelValue":l[9]||(l[9]=h=>D.value=h),item:w.value,warehouses:y.warehouses,currency:y.currency,onUpdateItem:I},null,8,["modelValue","item","warehouses","currency"])]))}},Uo=oe(Ao,[["__scopeId","data-v-8ae1c528"]]),Ro={class:"flex flex-col h-full bg-gray-100"},Bo={key:0,class:"p-2 bg-white border-b border-gray-200"},Mo=["placeholder"],jo={class:"flex-1 overflow-y-auto p-2"},Lo={key:0,class:"flex items-center justify-center h-full"},qo={class:"text-center"},Fo={class:"mt-3 text-sm text-gray-500"},Wo={key:1,class:"flex items-center justify-center h-full"},Qo={class:"text-center text-gray-400"},zo={class:"text-lg font-medium"},Ho={key:2,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 lg:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-8 gap-2"},Jo=["onClick"],Ko={key:0,class:"w-full mb-1 relative"},Go=["src","alt"],Yo={key:1,class:"w-14 h-14 sm:w-16 sm:h-16 mx-auto mb-1 bg-gray-200 rounded-lg flex items-center justify-center"},Xo={class:"text-[11px] sm:text-xs font-semibold text-center leading-tight px-1.5 line-clamp-2 min-h-[2rem]"},Zo={class:"text-xs sm:text-sm font-bold text-blue-600 mt-0.5"},en={class:"bg-gray-800 p-3 border-t-2 border-gray-900"},tn={class:"flex gap-2 overflow-x-auto pb-1 scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800"},on=["onClick"],nn={__name:"ItemsSelectorInTouch",props:{posProfile:String,cartItems:{type:Array,default:()=>[]},currency:{type:String,default:"USD"},showSearch:{type:Boolean,default:!1}},emits:["item-selected"],setup(y,{expose:e,emit:i}){const r=y,f=i,d=ve(),{filteredItems:P,loading:A,itemGroups:g}=We(d),N=$(null),D=$(""),w=$("All"),_=$([{name:"الزيادى",color:"#0ea5e9"},{name:"الكوكتيلات",color:"#8b5cf6"},{name:"السوف درسك",color:"#ec4899"},{name:"دبورت",color:"#f59e0b"},{name:"مبلبت سنكبك",color:"#10b981"},{name:"سوطنات",color:"#06b6d4"},{name:"الاطفال",color:"#f43f5e"},{name:"ساخنه",color:"#ef4444"},{name:"ساخنة",color:"#84cc16"},{name:"فراسه",color:"#a855f7"},{name:"سموری",color:"#6366f1"}]),T=X(()=>{let v=P.value||[];if(D.value.trim()){const S=D.value.toLowerCase().trim();v=v.filter(C=>C.item_name.toLowerCase().includes(S)||C.item_code.toLowerCase().includes(S))}return w.value&&w.value!=="All"&&(v=v.filter(S=>S.item_group===w.value)),v});function F(v){return ge(Number.parseFloat(v||0),r.currency)}function U(v){f("item-selected",v)}function B(v){w.value=v.name}return Z(()=>r.posProfile,v=>{v&&d.setPosProfile(v)},{immediate:!0}),Z(()=>r.cartItems,v=>{d.setCartItems(v)},{immediate:!0,deep:!0}),le(()=>{}),e({loadItems:()=>d.loadAllItems(r.posProfile)}),(v,S)=>(b(),k("div",Ro,[y.showSearch?(b(),k("div",Bo,[me(n("input",{ref_key:"searchInputRef",ref:N,"onUpdate:modelValue":S[0]||(S[0]=C=>D.value=C),type:"text",placeholder:v.__("Search items..."),class:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none text-sm"},null,8,Mo),[[fe,D.value]])])):H("",!0),n("div",jo,[t(A)&&!t(P).length?(b(),k("div",Lo,[n("div",qo,[S[2]||(S[2]=n("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"},null,-1)),n("p",Fo,u(v.__("Loading items...")),1)])])):t(P).length===0?(b(),k("div",Wo,[n("div",Qo,[S[3]||(S[3]=n("svg",{class:"mx-auto h-16 w-16 mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)),n("p",zo,u(v.__("No items found")),1)])])):(b(),k("div",Ho,[(b(!0),k(te,null,re(T.value,C=>(b(),k("button",{key:C.item_code,onClick:M=>U(C),class:"product-btn-intouch group"},[C.image?(b(),k("div",Ko,[n("img",{src:C.image,alt:C.item_name,class:"w-14 h-14 sm:w-16 sm:h-16 mx-auto object-cover rounded-lg shadow-sm group-hover:scale-105 transition-transform"},null,8,Go)])):(b(),k("div",Yo,S[4]||(S[4]=[n("svg",{class:"w-7 h-7 sm:w-8 sm:h-8 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10M4 7v10l8 4"})],-1)]))),n("div",Xo,u(C.item_name),1),n("div",Zo,u(F(C.rate||C.price_list_rate||0)),1)],8,Jo))),128))]))]),n("div",en,[n("div",tn,[n("button",{onClick:S[1]||(S[1]=C=>B({name:"All"})),class:ae(["category-btn-intouch",w.value==="All"||!w.value?"active ring-2 ring-white":""]),style:{background:"#64748b"}},u(v.__("All")),3),(b(!0),k(te,null,re(_.value,(C,M)=>(b(),k("button",{key:M,onClick:L=>B(C),class:ae(["category-btn-intouch",w.value===C.name?"active ring-2 ring-white":""]),style:Qe({background:C.color})},u(C.name),15,on))),128))])])]))}},sn=oe(nn,[["__scopeId","data-v-2460ad4b"]]),rn={class:"flex flex-col h-screen overflow-hidden bg-gray-900"},an={key:0,class:"flex-1 flex overflow-hidden"},ln={class:"flex-1 flex flex-col overflow-hidden"},un={class:"w-[450px] flex-shrink-0 border-l-4 border-gray-900"},cn={key:1,class:"flex-1 flex items-center justify-center bg-gray-100"},dn={class:"text-center p-8 bg-white rounded-2xl shadow-xl max-w-md"},mn={class:"text-2xl font-bold text-gray-900 mb-3"},fn={class:"text-gray-600 mb-6"},pn={class:"text-center py-6"},hn={class:"text-xl font-bold text-gray-900 mb-2"},gn={class:"text-lg text-gray-600"},vn={class:"flex gap-3 w-full"},yn={class:"py-4"},_n={class:"text-sm text-gray-700 whitespace-pre-line"},bn={key:0,class:"mt-3 pt-3 border-t border-gray-200"},wn={class:"text-xs text-gray-500"},xn={class:"flex justify-between items-center w-full"},Sn={__name:"POSSaleInTouch",setup(y){const e=he(),i=rt(),r=Ze(),f=at(),d=it(),P=et();ve();const A=lt(),{showSuccess:g,showError:N,showWarning:D}=pe(),w=ze.create("POSSaleInTouch");He();const _=$(null),T=$(null),F=$(1),U=$([]),B=Je({url:"pos_next.api.pos_profile.get_warehouses",makeParams(){return{pos_profile:i.profileName}},auto:!1,onSuccess(o){const s=(o==null?void 0:o.message)||o||[];U.value=s},onError(o){w.error("Error loading warehouses:",o),U.value=[]}});Z(()=>i.profileName,o=>{o&&B.reload()},{immediate:!0});const v=X(()=>U.value.length>0?U.value.map(o=>({name:o.name,warehouse:o.warehouse_name||o.name})):i.profileWarehouse?[{name:i.profileWarehouse,warehouse:i.profileWarehouse}]:[]);le(()=>E(this,null,function*(){var o;try{i.startTimers(),(yield i.checkShift())?i.currentProfile&&(e.posProfile=i.profileName,e.posOpeningShift=(o=i.currentShift)==null?void 0:o.name,yield P.loadSettings(i.profileName),yield e.loadTaxRules(i.profileName,P.settings),yield e.setDefaultCustomer(),i.profileWarehouse&&A.setWarehouse(i.profileWarehouse),f.isOffline?yield f.checkOfflineCacheAvailability():yield f.preloadDataForOffline(i.currentProfile)):r.showOpenShiftDialog=!0,yield d.updateDraftsCount()}catch(s){w.error("Error checking shift:",s)}finally{r.setLoading(!1)}})),Ke(()=>{Ge.stopStockSync().catch(()=>{})});function S(){return E(this,null,function*(){var o;r.showOpenShiftDialog=!1,i.currentProfile&&(e.posProfile=i.profileName,e.posOpeningShift=(o=i.currentShift)==null?void 0:o.name,yield P.loadSettings(i.profileName),yield e.loadTaxRules(i.profileName,P.settings)),g(__("You can now start making sales"))})}function C(){r.showCloseShiftDialog=!1,g(__("Shift closed successfully")),setTimeout(()=>{r.showOpenShiftDialog=!0},500)}function M(o,s=!1){if(o.has_variants){e.setPendingItem(o,1,"variant"),r.showItemSelectionDialog=!0;return}if(o.item_uoms&&o.item_uoms.length>0){e.setPendingItem(o,1,"uom"),r.showItemSelectionDialog=!0;return}if(o.has_batch_no||o.has_serial_no){e.setPendingItem(o,1),r.showBatchSerialDialog=!0;return}try{e.addItem(o,1,s,i.currentProfile)}catch(p){r.showError(__("Insufficient Stock"),p.message,__("Item: {0}",[o.item_code]))}}function L(o){return E(this,null,function*(){yield e.updateItemDetails(o.item_code,o)})}function J(o){e.additionalDiscount=o,e.rebuildIncrementalCache()}function m(o){o?(e.setCustomer(o),r.showCustomerDialog=!1,g(__("{0} selected",[o.customer_name]))):e.setCustomer(null)}function I(o){r.setInitialCustomerName(o||""),r.showCreateCustomerDialog=!0}function a(){return E(this,null,function*(){if(e.isEmpty){D(__("Please add items to cart before proceeding to payment"));return}try{const{call:o}=yield Xe(()=>E(this,null,function*(){const{call:p}=yield import("./index-CLcWQdf2.js").then(O=>O.ag);return{call:p}}),__vite__mapDeps([0,1])),s=yield o("pos_next.api.pos_profile.get_payment_methods",{pos_profile:i.profileName});if(s&&s.length===1){const p=s[0],O={payments:[{mode_of_payment:p.mode_of_payment,amount:e.grandTotal,type:p.type||"Cash"}],change_amount:0,is_partial_payment:!1,paid_amount:e.grandTotal,outstanding_amount:0,autoPrint:!0,silentPrint:!0};yield l(O);return}}catch(o){console.error("Error checking payment methods:",o)}r.showPaymentDialog=!0})}function l(o){return E(this,null,function*(){var s,p;try{const O=((s=e.customer)==null?void 0:s.name)||e.customer;if(e.payments=[],o.payments&&Array.isArray(o.payments)&&o.payments.forEach(V=>{e.payments.push({mode_of_payment:V.mode_of_payment,amount:V.amount,type:V.type})}),o.sales_team&&Array.isArray(o.sales_team)?e.salesTeam=o.sales_team:e.salesTeam=[],f.isOffline){const V={pos_profile:e.posProfile,posa_pos_opening_shift:e.posOpeningShift,customer:O||i.profileCustomer,items:JSON.parse(JSON.stringify(e.invoiceItems)),payments:JSON.parse(JSON.stringify(e.payments)),sales_team:JSON.parse(JSON.stringify(e.salesTeam||[])),grand_total:e.grandTotal,total_tax:e.totalTax,total_discount:e.totalDiscount};yield f.saveInvoiceOffline(V),r.showSuccess(`OFFLINE-${Date.now()}`,e.grandTotal),r.showPaymentDialog=!1,e.clearCart(),g(__("Invoice saved offline. Will sync when online"))}else{const V=e.invoiceItems.map(q=>q.item_code),c=yield e.submitInvoice();if(c){const q=c.name||((p=c.message)==null?void 0:p.name)||__("Unknown"),Ee=c.grand_total||c.total||0;r.showPaymentDialog=!1,e.clearCart();const Ae=i.autoPrintEnabled||o.autoPrint;if(o.autoPrint){const G=o.silentPrint?{silentPrint:!0}:{};ee(W({name:q},G)).catch(Ue=>{w.error("Auto-print error:",Ue)})}else if(Ae)try{yield ee({name:q}),g(__("Invoice {0} created and sent to printer",[q]))}catch(G){w.error("Auto-print error:",G),D(__("Invoice {0} created but print failed",[q]))}else r.showSuccess(q,Ee),g(__("Invoice {0} created successfully",[q]));A.refresh(V,i.profileWarehouse).catch(G=>{w.error("Background stock refresh failed:",G)})}}}catch(O){w.error("Error submitting invoice:",O),r.showPaymentDialog=!1;const V=se(O);r.showError(V.title||__("Error"),V.message||__("An unexpected error occurred"),V.technicalDetails||null,V.retryable?"payment":null),V.type==="error"?N(V.message):D(V.message)}})}function h(){e.isEmpty||(e.clearCart(),g(__("All items removed from cart")))}function j(o){return E(this,null,function*(){var s;if(e.pendingItem)try{if(o.type==="variant"){const p=o.data;if(p.item_uoms&&p.item_uoms.length>0){e.setPendingItem(p,e.pendingItemQty,"uom");return}if(p.has_batch_no||p.has_serial_no)e.setPendingItem(p,e.pendingItemQty),r.showItemSelectionDialog=!1,r.showBatchSerialDialog=!0;else try{e.addItem(p,e.pendingItemQty,!1,i.currentProfile),r.showItemSelectionDialog=!1,e.clearPendingItem(),g(__("{0} added to cart",[p.item_name]))}catch(O){N(O.message)}}else if(o.type==="uom"){const p=yield e.getItemDetailsResource.submit({item_code:e.pendingItem.item_code,pos_profile:e.posProfile,customer:((s=e.customer)==null?void 0:s.name)||e.customer,qty:e.pendingItemQty,uom:o.uom}),O=Y(W({},e.pendingItem),{uom:o.uom,conversion_factor:o.conversion_factor,rate:p.price_list_rate||p.rate,price_list_rate:p.price_list_rate});if(O.has_batch_no||O.has_serial_no)e.setPendingItem(O,e.pendingItemQty),r.showItemSelectionDialog=!1,r.showBatchSerialDialog=!0;else try{e.addItem(O,e.pendingItemQty,!1,i.currentProfile),r.showItemSelectionDialog=!1,e.clearPendingItem(),g(__("{0} ({1}) added to cart",[O.item_name,o.uom]))}catch(V){N(V.message)}}}catch(p){w.error("Error handling option selection:",p),N(__("Failed to process selection. Please try again."))}})}function K(){r.showCloseShiftDialog=!0}function ye(){e.clearCart(),r.resetAllDialogs(),Ye.logout.submit()}function _e(o){return Number.parseFloat(o||0).toFixed(2)}function be(){return E(this,null,function*(){if(e.itemCount===0||e.invoiceItems.length===0){r.showDraftDialog=!0;return}(yield d.saveDraftInvoice(e.invoiceItems,e.customer,e.posProfile,e.appliedOffers))&&e.clearCart()})}function we(o){return E(this,null,function*(){try{const s=yield d.loadDraft(o);e.invoiceItems=s.items,e.setCustomer(s.customer),e.rebuildIncrementalCache(),s.applied_offers&&s.applied_offers.length>0&&(e.appliedOffers=s.applied_offers,yield e.reapplyOffer(i.currentProfile)),r.showDraftDialog=!1}catch(s){w.error("Error loading draft:",s)}})}function xe(o){g(__("Return invoice {0} created successfully",[o.name]))}function Se(o){e.applyDiscountToCart(o),r.showCouponDialog=!1}function Ce(){e.removeDiscountFromCart()}function Ie(o){return E(this,null,function*(){(yield e.applyOffer(o,i.currentProfile,T.value))&&(r.showOffersDialog=!1)})}function ke(o){if(e.pendingItem){const s=o.quantity||e.pendingItemQty,p=W(Y(W({},e.pendingItem),{quantity:s}),o);try{e.addItem(p,s,!1,i.currentProfile),e.clearPendingItem()}catch(O){N(O.message)}}}function De(o){r.showReturnDialog=!0,D(__("Creating return for invoice {0}",[o.name]))}function Pe(o){e.setCustomer(o),r.showCreateCustomerDialog=!1,g(__("{0} created and selected",[o.customer_name]))}function $e(o){return E(this,null,function*(){try{e.clearCart();const s=o.data;if(s.customer&&e.setCustomer(s.customer),s.items&&s.items.length>0)for(const p of s.items)e.addItem(p,p.quantity||p.qty||1,!0,i.currentProfile);yield f.deleteOfflineInvoice(o.id),g(__("Invoice loaded to cart for editing"))}catch(s){w.error("Error editing offline invoice:",s)}})}function Oe(o){return E(this,null,function*(){try{yield f.deleteOfflineInvoice(o)}catch(s){w.error("Error deleting offline invoice:",s)}})}function Ve(){return E(this,null,function*(){if(f.isOffline){D(__("Cannot sync while offline"));return}try{const o=yield f.syncAllPending();if(o.success>0&&_.value&&(yield _.value.loadItems()),o.failed>0&&o.errors&&o.errors.length>0){const s=o.errors[0],p=se(s.error);r.showError(p.title,__(`Failed to sync invoice for {0}

\${1}

You can delete this invoice from the offline queue if you don't need it.`,[s.customer,p.message]),p.technicalDetails||__("Invoice ID: {0}",[s.invoiceId]),"sync",{failedInvoiceId:s.invoiceId})}else o.failed>0&&D(__("{0} invoice(s) failed to sync",[o.failed]))}catch(o){w.error("Sync error:",o);const s=se(o);r.showError(s.title,s.message,s.technicalDetails,"sync")}})}function ee(o){return E(this,null,function*(){try{const s=o.silentPrint===!0;o.items&&Array.isArray(o.items)?yield wt(o):yield xt(o.name,null,null,s)}catch(s){w.error("Error printing invoice:",s),N(__("Failed to print invoice"))}})}function Ne(o){}function Te(){r.clearError(),r.errorRetryAction==="payment"&&setTimeout(()=>{r.showPaymentDialog=!0},300)}return(o,s)=>{var p,O,V;return b(),k("div",rn,[t(r).isLoading?(b(),de(ut,{key:0})):(b(),k(te,{key:1},[t(i).hasOpenShift?(b(),k("div",an,[n("div",ln,[x(sn,{ref_key:"itemsSelectorRef",ref:_,"pos-profile":t(i).profileName,"cart-items":t(e).invoiceItems,currency:t(i).profileCurrency,"show-search":!1,onItemSelected:M},null,8,["pos-profile","cart-items","currency"])]),n("div",un,[x(Uo,{items:t(e).invoiceItems,customer:t(e).customer,subtotal:t(e).subtotal,"tax-amount":t(e).totalTax,"discount-amount":t(e).totalDiscount,"grand-total":t(e).grandTotal,"pos-profile":t(i).profileName,currency:t(i).profileCurrency,"applied-offers":t(e).appliedOffers,warehouses:v.value,"table-number":F.value,onUpdateQuantity:t(e).updateItemQuantity,onRemoveItem:t(e).removeItem,onSelectCustomer:m,onCreateCustomer:I,onProceedToPayment:a,onClearCart:h,onSaveDraft:be,onApplyCoupon:s[0]||(s[0]=c=>t(r).showCouponDialog=!0),onShowOffers:s[1]||(s[1]=c=>t(r).showOffersDialog=!0),onRemoveOffer:s[2]||(s[2]=c=>t(e).removeOffer(c,t(i).currentProfile,T.value.value)),onUpdateUom:t(e).changeItemUOM,onEditItem:L,onViewShift:s[3]||(s[3]=c=>t(r).showOpenShiftDialog=!0),onShowDrafts:s[4]||(s[4]=c=>t(r).showDraftDialog=!0),onShowHistory:s[5]||(s[5]=c=>t(r).showHistoryDialog=!0),onShowReturn:s[6]||(s[6]=c=>t(r).showReturnDialog=!0),onCloseShift:s[7]||(s[7]=c=>K()),onLogout:ye},null,8,["items","customer","subtotal","tax-amount","discount-amount","grand-total","pos-profile","currency","applied-offers","warehouses","table-number","onUpdateQuantity","onRemoveItem","onUpdateUom"])])])):(b(),k("div",cn,[n("div",dn,[s[28]||(s[28]=n("div",{class:"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-gradient-to-br from-blue-100 to-blue-200 mb-6"},[n("svg",{class:"h-12 w-12 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})])],-1)),n("h3",mn,u(o.__("Welcome to INTouch POS")),1),n("p",fn,u(o.__("Please open a shift to start making sales")),1),x(t(Q),{variant:"solid",theme:"blue",size:"lg",onClick:s[8]||(s[8]=c=>t(r).showOpenShiftDialog=!0),class:"w-full"},{default:R(()=>[z(u(o.__("Open Shift")),1)]),_:1})])])),x(ct,{modelValue:t(r).showPaymentDialog,"onUpdate:modelValue":s[9]||(s[9]=c=>t(r).showPaymentDialog=c),"grand-total":t(e).grandTotal,subtotal:t(e).subtotal,"pos-profile":t(i).profileName,currency:t(i).profileCurrency,"is-offline":t(f).isOffline,"allow-partial-payment":t(P).allowPartialPayment,"allow-credit-sale":t(P).allowCreditSale,customer:t(e).customer,company:t(i).profileCompany,"additional-discount":t(e).additionalDiscount,onPaymentCompleted:l,onUpdateAdditionalDiscount:J},null,8,["modelValue","grand-total","subtotal","pos-profile","currency","is-offline","allow-partial-payment","allow-credit-sale","customer","company","additional-discount"]),x(dt,{modelValue:t(r).showCustomerDialog,"onUpdate:modelValue":s[10]||(s[10]=c=>t(r).showCustomerDialog=c),"pos-profile":t(i).profileName,onCustomerSelected:m},null,8,["modelValue","pos-profile"]),x(tt,{modelValue:t(r).showOpenShiftDialog,"onUpdate:modelValue":s[11]||(s[11]=c=>t(r).showOpenShiftDialog=c),onShiftOpened:S},null,8,["modelValue"]),x(ot,{modelValue:t(r).showCloseShiftDialog,"onUpdate:modelValue":s[12]||(s[12]=c=>t(r).showCloseShiftDialog=c),"opening-shift":(p=t(i).currentShift)==null?void 0:p.name,onShiftClosed:C},null,8,["modelValue","opening-shift"]),x(mt,{modelValue:t(r).showDraftDialog,"onUpdate:modelValue":s[13]||(s[13]=c=>t(r).showDraftDialog=c),currency:t(i).profileCurrency,onLoadDraft:we,onDraftsUpdated:t(d).updateDraftsCount},null,8,["modelValue","currency","onDraftsUpdated"]),x(ft,{modelValue:t(r).showReturnDialog,"onUpdate:modelValue":s[14]||(s[14]=c=>t(r).showReturnDialog=c),"pos-profile":t(i).profileName,currency:t(i).profileCurrency,onReturnCreated:xe},null,8,["modelValue","pos-profile","currency"]),x(pt,{modelValue:t(r).showCouponDialog,"onUpdate:modelValue":s[15]||(s[15]=c=>t(r).showCouponDialog=c),subtotal:t(e).subtotal,items:t(e).invoiceItems,"pos-profile":t(i).profileName,customer:((O=t(e).customer)==null?void 0:O.name)||t(e).customer,company:t(i).profileCompany,currency:t(i).profileCurrency,"applied-coupon":t(e).appliedCoupon,onDiscountApplied:Se,onDiscountRemoved:Ce},null,8,["modelValue","subtotal","items","pos-profile","customer","company","currency","applied-coupon"]),x(ht,{ref_key:"offersDialogRef",ref:T,modelValue:t(r).showOffersDialog,"onUpdate:modelValue":s[16]||(s[16]=c=>t(r).showOffersDialog=c),subtotal:t(e).subtotal,items:t(e).invoiceItems,"pos-profile":t(i).profileName,customer:((V=t(e).customer)==null?void 0:V.name)||t(e).customer,company:t(i).profileCompany,currency:t(i).profileCurrency,"applied-offers":t(e).appliedOffers,onApplyOffer:Ie,onRemoveOffer:s[17]||(s[17]=c=>t(e).removeOffer(c,t(i).currentProfile,T.value.value))},null,8,["modelValue","subtotal","items","pos-profile","customer","company","currency","applied-offers"]),x(gt,{modelValue:t(r).showBatchSerialDialog,"onUpdate:modelValue":s[18]||(s[18]=c=>t(r).showBatchSerialDialog=c),item:t(e).pendingItem,quantity:t(e).pendingItemQty,warehouse:t(i).profileWarehouse,onBatchSerialSelected:ke},null,8,["modelValue","item","quantity","warehouse"]),x(vt,{modelValue:t(r).showItemSelectionDialog,"onUpdate:modelValue":s[19]||(s[19]=c=>t(r).showItemSelectionDialog=c),item:t(e).pendingItem,mode:t(e).selectionMode,"pos-profile":t(i).profileName,currency:t(i).profileCurrency,onOptionSelected:j},null,8,["modelValue","item","mode","pos-profile","currency"]),x(yt,{modelValue:t(r).showHistoryDialog,"onUpdate:modelValue":s[20]||(s[20]=c=>t(r).showHistoryDialog=c),"pos-profile":t(i).profileName,currency:t(i).profileCurrency,onCreateReturn:De,onViewInvoice:Ne,onPrintInvoice:ee},null,8,["modelValue","pos-profile","currency"]),x(_t,{modelValue:t(r).showOfflineInvoicesDialog,"onUpdate:modelValue":s[21]||(s[21]=c=>t(r).showOfflineInvoicesDialog=c),"is-offline":t(f).isOffline,"pending-invoices":t(f).pendingInvoicesList,"is-syncing":t(f).isSyncing,currency:t(i).profileCurrency,onSyncAll:Ve,onDeleteInvoice:Oe,onEditInvoice:$e,onRefresh:t(f).loadPendingInvoices},null,8,["modelValue","is-offline","pending-invoices","is-syncing","currency","onRefresh"]),x(bt,{modelValue:t(r).showCreateCustomerDialog,"onUpdate:modelValue":s[22]||(s[22]=c=>t(r).showCreateCustomerDialog=c),"pos-profile":t(i).profileName,"initial-name":t(r).initialCustomerName,onCustomerCreated:Pe},null,8,["modelValue","pos-profile","initial-name"]),x(t(ie),{modelValue:t(r).showSuccessDialog,"onUpdate:modelValue":s[25]||(s[25]=c=>t(r).showSuccessDialog=c),options:{title:o.__("Invoice Created Successfully"),size:"md"}},{"body-content":R(()=>[n("div",pn,[s[29]||(s[29]=n("div",{class:"mx-auto flex items-center justify-center h-16 w-16 rounded-full bg-green-100 mb-4"},[n("svg",{class:"h-8 w-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[n("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"})])],-1)),n("h3",hn,u(o.__("Invoice {0} created successfully!",[t(r).lastInvoiceName])),1),n("p",gn,u(o.__("Total: {0}",[_e(t(r).lastInvoiceTotal)])),1)])]),actions:R(()=>[n("div",vn,[x(t(Q),{variant:"subtle",class:"flex-1",onClick:s[23]||(s[23]=c=>t(r).showSuccessDialog=!1)},{default:R(()=>[z(u(o.__("Close")),1)]),_:1}),x(t(Q),{variant:"solid",theme:"blue",class:"flex-1",onClick:s[24]||(s[24]=()=>{ee({name:t(r).lastInvoiceName}),t(r).showSuccessDialog=!1})},{default:R(()=>[z(u(o.__("Print Invoice")),1)]),_:1})])]),_:1},8,["modelValue","options"]),x(t(ie),{modelValue:t(r).showErrorDialog,"onUpdate:modelValue":s[27]||(s[27]=c=>t(r).showErrorDialog=c),options:{title:t(r).errorDialogTitle||o.__("Error"),size:"md"}},{"body-content":R(()=>[n("div",yn,[n("p",_n,u(t(r).errorDialogMessage||o.__("An unexpected error occurred.")),1),t(r).errorDetails?(b(),k("div",bn,[n("p",wn,u(t(r).errorDetails),1)])):H("",!0)])]),actions:R(()=>[n("div",xn,[x(t(Q),{variant:"subtle",onClick:s[26]||(s[26]=c=>t(r).clearError())},{default:R(()=>[z(u(o.__("Close")),1)]),_:1}),t(r).errorRetryAction?(b(),de(t(Q),{key:0,variant:"solid",onClick:Te},{default:R(()=>[z(u(o.__("Try Again")),1)]),_:1})):H("",!0)])]),_:1},8,["modelValue","options"])],64)),x(It)])}}},$n=oe(Sn,[["__scopeId","data-v-fba373e0"]]);export{$n as default};
